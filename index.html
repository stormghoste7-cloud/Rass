<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MoodMusic ğŸ§</title>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: black;
  color: white;
  overflow: hidden;
}

.screen {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
  padding: 20px;
}

.hidden {
  display: none;
}

h1 {
  font-size: 2.5rem;
}

.mood-btn {
  background: #1e1e1e;
  border: none;
  color: white;
  padding: 20px;
  margin: 10px;
  border-radius: 20px;
  font-size: 1.5rem;
  width: 80%;
}

.card {
  height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;
}

.title {
  font-size: 2rem;
}

.artist {
  color: #aaa;
}

.actions {
  position: fixed;
  right: 20px;
  bottom: 100px;
  display: flex;
  flex-direction: column;
  gap: 20px;
}

.action-btn {
  background: #ff0050;
  border: none;
  color: white;
  width: 60px;
  height: 60px;
  border-radius: 50%;
  font-size: 1.5rem;
}
</style>
</head>

<body>

<!-- Ã‰cran 1 : choix humeur -->
<div id="home" class="screen">
  <h1>Comment tu te sens ?</h1>
  <button class="mood-btn" onclick="start('happy')">ğŸ˜„ Heureux</button>
  <button class="mood-btn" onclick="start('sad')">ğŸ˜¢ Triste</button>
  <button class="mood-btn" onclick="start('angry')">ğŸ˜¡ En colÃ¨re</button>
</div>

<!-- Ã‰cran 2 : feed -->
<div id="feed" class="screen hidden">
  <div class="card" id="card"></div>

  <div class="actions">
    <button class="action-btn" onclick="next()">ğŸ”</button>
    <button class="action-btn" onclick="alert('AjoutÃ© aux favoris â¤ï¸')">â¤ï¸</button>
  </div>
</div>

<script>
const data = {
  happy: [
    {title:"Happy", artist:"Pharrell Williams"},
    {title:"Uptown Funk", artist:"Bruno Mars"},
    {title:"Can't Stop The Feeling", artist:"Justin Timberlake"}
  ],
  sad: [
    {title:"Fix You", artist:"Coldplay"},
    {title:"Someone Like You", artist:"Adele"},
    {title:"The Night We Met", artist:"Lord Huron"}
  ],
  angry: [
    {title:"Lose Yourself", artist:"Eminem"},
    {title:"DNA", artist:"Kendrick Lamar"},
    {title:"Numb", artist:"Linkin Park"}
  ]
};

let mood = null;
let used = [];

function start(selectedMood){
  mood = selectedMood;
  used = [];
  document.getElementById("home").classList.add("hidden");
  document.getElementById("feed").classList.remove("hidden");
  next();
}

function next(){
  const available = data[mood].filter(m => !used.includes(m.title));
  if(available.length === 0){
    document.getElementById("card").innerHTML =
      "<h2>ğŸ¬ Plus de musiques</h2><p>Regarde un anime ou un film âœ¨</p>";
    return;
  }
  const pick = available[Math.floor(Math.random()*available.length)];
  used.push(pick.title);

  document.getElementById("card").innerHTML = `
    <div class="title">${pick.title}</div>
    <div class="artist">${pick.artist}</div>
    <p>Swipe ou clique pour autre ğŸ§</p>
  `;
}
</script>

</body>
</html>
